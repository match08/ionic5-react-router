{"version":3,"file":"IonReactRouter.js","sourceRoot":"","sources":["../../src/ReactRouter/IonReactRouter.tsx"],"names":[],"mappings":";AAAA,OAAO,EAAiE,oBAAoB,IAAI,aAAa,EAAE,MAAM,SAAS,CAAC;AAC/H,OAAO,KAAK,MAAM,OAAO,CAAC;AAC1B,OAAO,EAAsB,MAAM,EAAE,MAAM,kBAAkB,CAAC;AAE9D,OAAO,EAAE,SAAS,EAAE,MAAM,aAAa,CAAC;AAMxC,MAAM,OAAO,cAAe,SAAQ,KAAK,CAAC,SAA8B;IAKtE,YAAY,KAA0B;QACpC,KAAK,CAAC,KAAK,CAAC,CAAC;QACb,MAAM,EAAE,OAAO,KAAc,KAAK,EAAd,IAAI,UAAK,KAAK,EAA5B,WAAoB,CAAQ,CAAC;QACnC,IAAI,CAAC,OAAO,GAAG,OAAO,IAAI,aAAa,CAAC,IAAI,CAAC,CAAC;QAC9C,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACzD,IAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACzE,CAAC;IAED,mBAAmB,CAAC,QAAyB,EAAE,MAAqB;QAClE,IAAI,IAAI,CAAC,oBAAoB,EAAE;YAC7B,IAAI,CAAC,oBAAoB,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;SAC7C;IACH,CAAC;IAED,uBAAuB,CAAC,EAA8D;QACpF,IAAI,CAAC,oBAAoB,GAAG,EAAE,CAAC;IACjC,CAAC;IAED,MAAM;QACJ,MAAM,KAAyB,IAAI,CAAC,KAAK,EAAnC,EAAE,QAAQ,OAAyB,EAApB,KAAK,cAApB,YAAsB,CAAa,CAAC;QAC1C,OAAO,CACL,oBAAC,MAAM,kBAAC,OAAO,EAAE,IAAI,CAAC,OAAO,IAAM,KAAK;YACtC,oBAAC,SAAS,IAAC,uBAAuB,EAAE,IAAI,CAAC,uBAAuB,IAAG,QAAQ,CAAa,CACjF,CACV,CAAC;IACJ,CAAC;CACF","sourcesContent":["import { Action as HistoryAction, History, Location as HistoryLocation, createBrowserHistory as createHistory } from 'history';\nimport React from 'react';\nimport { BrowserRouterProps, Router } from 'react-router-dom';\n\nimport { IonRouter } from './IonRouter';\n\ninterface IonReactRouterProps extends BrowserRouterProps {\n  history?: History;\n}\n\nexport class IonReactRouter extends React.Component<IonReactRouterProps> {\n\n  historyListenHandler?: ((location: HistoryLocation, action: HistoryAction) => void);\n  history: History;\n\n  constructor(props: IonReactRouterProps) {\n    super(props);\n    const { history, ...rest } = props;\n    this.history = history || createHistory(rest);\n    this.history.listen(this.handleHistoryChange.bind(this));\n    this.registerHistoryListener = this.registerHistoryListener.bind(this);\n  }\n\n  handleHistoryChange(location: HistoryLocation, action: HistoryAction) {\n    if (this.historyListenHandler) {\n      this.historyListenHandler(location, action);\n    }\n  }\n\n  registerHistoryListener(cb: (location: HistoryLocation, action: HistoryAction) => void) {\n    this.historyListenHandler = cb;\n  }\n\n  render() {\n    const { children, ...props } = this.props;\n    return (\n      <Router history={this.history} {...props}>\n        <IonRouter registerHistoryListener={this.registerHistoryListener}>{children}</IonRouter>\n      </Router>\n    );\n  }\n}\n"]}